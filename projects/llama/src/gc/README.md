GC想法

1. 魔数指针。指针包含一个魔数，让垃圾回收的扫描更加靠谱。

64 bit: [63-42 MAGIC (22bits) ][41-0 PTR (42bits)]

1.1. 魔数可以占用64位的一些部分，毕竟现在不存在2^64大小的内存，指针大部分数据无用，正好拿来存放魔数。
1.2. 魔数会有安全性风险。如果插件在任意数据加入魔数，可能引发垃圾回收的误判（无法回收内存块）。
1.2.1. 为了避免这个问题，可以引入内存域概念？例如，插件只可能引用某个内存域的东西，超过就认为不是指针。毕竟有些东西是不可能 直接 引用到的。
1.2.2. 或者引入弱指针。就算有引用也可以删除？
1.2.3. 正常情况下为4千万分之一的概率撞到魔数。如果不正常，也可检测出来？

- 关于memory compact: 无法100%确保不是指针，但如果一个玩意最近被当指针用过，显然可以确保是指针。就可以执行compact。
关键在于如何检测READ/WRITE。检测读代价大，也许可以检测写。


